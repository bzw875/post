<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>前端代码规范和最佳实践 | 小园香径</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="HTML语法 缩进使用soft tab（4个空格）； 嵌套的节点应该缩进； 在属性上，使用双引号，不要使用单引号； 不要在自动闭合标签结尾处使用斜线（HTML5 规范 指出他们是可选的）；&lt;img src&#x3D;&quot;&quot;&gt; 不要忽略可选的关闭标签，例： 和 。  HTML5 doctype&lt;!DOCTYPE html&gt;   在页面开头使用这个简单地doctype来">
<meta property="og:type" content="article">
<meta property="og:title" content="前端代码规范和最佳实践">
<meta property="og:url" content="https://bzw875.github.io/2023/11/15/code-specifications/index.html">
<meta property="og:site_name" content="小园香径">
<meta property="og:description" content="HTML语法 缩进使用soft tab（4个空格）； 嵌套的节点应该缩进； 在属性上，使用双引号，不要使用单引号； 不要在自动闭合标签结尾处使用斜线（HTML5 规范 指出他们是可选的）；&lt;img src&#x3D;&quot;&quot;&gt; 不要忽略可选的关闭标签，例： 和 。  HTML5 doctype&lt;!DOCTYPE html&gt;   在页面开头使用这个简单地doctype来">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1521780545495&di=b26fccd445887ce52807fb3bfa3a43bd&imgtype=0&src=http://ec4.images-amazon.com/images/I/511yJOQpxvL.jpg">
<meta property="article:published_time" content="2023-11-15T13:21:43.524Z">
<meta property="article:modified_time" content="2023-11-15T13:21:43.524Z">
<meta property="article:author" content="小园香径">
<meta property="article:tag" content="ES6 node.js http 计算机">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1521780545495&di=b26fccd445887ce52807fb3bfa3a43bd&imgtype=0&src=http://ec4.images-amazon.com/images/I/511yJOQpxvL.jpg">
  
    <link rel="alternate" href="/atom.xml" title="小园香径" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 7.0.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">小园香径</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">小园香径 博客</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS 订阅"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="搜索"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://bzw875.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-code-specifications" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/11/15/code-specifications/" class="article-date">
  <time class="dt-published" datetime="2023-11-15T13:21:43.524Z" itemprop="datePublished">2023-11-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      前端代码规范和最佳实践
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h1><h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><ul>
<li>缩进使用soft tab（4个空格）；</li>
<li>嵌套的节点应该缩进；</li>
<li>在属性上，使用双引号，不要使用单引号；</li>
<li>不要在自动闭合标签结尾处使用斜线（HTML5 规范 指出他们是可选的）；<code>&lt;img src=&quot;&quot;&gt;</code></li>
<li>不要忽略可选的关闭标签，例：</li> 和 </body>。</li>
</ul>
<h3 id="HTML5-doctype"><a href="#HTML5-doctype" class="headerlink" title="HTML5 doctype"></a>HTML5 doctype</h3><pre><code>&lt;!DOCTYPE html&gt;
</code></pre>
<ul>
<li>在页面开头使用这个简单地doctype来启用标准模式，使其在每个浏览器中尽可能一致的展现；</li>
<li>虽然doctype不区分大小写，但是按照惯例，doctype大写 （关于html属性，大写还是小写）。</li>
</ul>
<h4 id="lang属性"><a href="#lang属性" class="headerlink" title="lang属性"></a>lang属性</h4><p>根据HTML5规范：应在html标签上加上lang属性。这会给语音工具和翻译工具帮助，告诉它们应当怎么去发音和翻译。</p>
<p>比如</p>
<pre><code>&lt;html lang=&quot;zh-cn&quot;&gt;
&lt;html lang=&quot;en-us&quot;&gt;
</code></pre>
<h3 id="字符编码"><a href="#字符编码" class="headerlink" title="字符编码"></a>字符编码</h3><pre><code>&lt;meta charset=&quot;UTF-8&quot;&gt;
</code></pre>
<p>通过声明一个明确的字符编码，让浏览器轻松、快速的确定适合网页内容的渲染方式，通常指定为’UTF-8’。</p>
<h3 id="IE兼容模式"><a href="#IE兼容模式" class="headerlink" title="IE兼容模式"></a>IE兼容模式</h3><ul>
<li>用 <meta> 标签可以指定页面应该用什么版本的IE来渲染；</li>
<li>不同doctype在不同浏览器下会触发不同的渲染模式，所以别别忽略文档类型</li>
</ul>
<h3 id="标准的HTML5页面应该是这样"><a href="#标准的HTML5页面应该是这样" class="headerlink" title="标准的HTML5页面应该是这样"></a>标准的HTML5页面应该是这样</h3><pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;zh-cn&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Document&lt;/title&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=Edge&quot;&gt;
&lt;/head&gt;
&lt;body&gt;
    
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3 id="引入CSS-JS"><a href="#引入CSS-JS" class="headerlink" title="引入CSS, JS"></a>引入CSS, JS</h3><p>根据HTML5规范, 通常在引入CSS和JS时不需要指明 type，因为 text&#x2F;css 和 text&#x2F;javascript 分别是他们的默认值</p>
<pre><code>&lt;link rel=&quot;stylesheet&quot; href=&quot;code_guide.css&quot;&gt;
&lt;script src=&quot;code_guide.js&quot;&gt;&lt;/script&gt;
</code></pre>
<h3 id="boolean属性"><a href="#boolean属性" class="headerlink" title="boolean属性"></a>boolean属性</h3><p>boolean属性指不需要声明取值的属性，XHTML需要每个属性声明取值，但是HTML5并不需要；</p>
<pre><code>&lt;-- Good --&gt;
&lt;input type=&quot;text&quot; disabled&gt;

&lt;input type=&quot;checkbox&quot; value=&quot;1&quot; checked&gt;

&lt;select&gt;
    &lt;option value=&quot;1&quot; selected&gt;1&lt;/option&gt;
&lt;/select&gt;

&lt;-- Bad --&gt;
&lt;input type=&quot;text&quot; disabled=&quot;disabled&quot;&gt;

&lt;input type=&quot;checkbox&quot; value=&quot;1&quot; checked=&quot;checked&quot;&gt;

&lt;select&gt;
    &lt;option value=&quot;1&quot; selected&gt;1&lt;/option&gt;
&lt;/select&gt;
</code></pre>
<h3 id="减少标签数量"><a href="#减少标签数量" class="headerlink" title="减少标签数量"></a>减少标签数量</h3><pre><code>&lt;-- Good --&gt;
&lt;label class=&quot;uiLabel&quot;&gt;
    &amp;&#123;&#39;administrationgroup.code&#39;&#125;:
&lt;/label&gt;
&lt;input class=&quot;uiComponent&quot; type=&quot;text&quot;/&gt;
    
&lt;-- Bad --&gt;
&lt;span&gt;
    &lt;label class=&quot;uiLabel&quot;&gt;
        &amp;&#123;&#39;administrationgroup.code&#39;&#125;:
    &lt;/label&gt;
    &lt;span class=&quot;uiComponent&quot;&gt;
        &lt;input type=&quot;text&quot;/&gt;
    &lt;/span&gt;
&lt;/span&gt;
</code></pre>
<h1 id="javascript"><a href="#javascript" class="headerlink" title="javascript"></a>javascript</h1><h3 id="缩进"><a href="#缩进" class="headerlink" title="缩进"></a>缩进</h3><p>使用soft tab（4个空格）。</p>
<h3 id="单行长度"><a href="#单行长度" class="headerlink" title="单行长度"></a>单行长度</h3><p>不要超过80，但如果编辑器开启word wrap可以不考虑单行长度。</p>
<h3 id="分号"><a href="#分号" class="headerlink" title="分号"></a>分号</h3><p>以下几种情况后需加分号：</p>
<ul>
<li><p>变量声明</p>
</li>
<li><p>表达式</p>
</li>
<li><p>return</p>
</li>
<li><p>throw</p>
</li>
<li><p>break</p>
</li>
<li><p>continue</p>
</li>
<li><p>do-while</p>
<p>  var x &#x3D; 1;</p>
<p>  x++;</p>
<p>  return;</p>
<p>  throw new Error(‘timeout’);</p>
<p>  break;</p>
<p>  continue;</p>
<p>  do {<br>  x++;<br>  } while (x &lt; 10);</p>
</li>
</ul>
<h3 id="换行"><a href="#换行" class="headerlink" title="换行"></a>换行</h3><p>换行的地方，行末必须有’,’或者运算符；</p>
<p>以下几种情况不需要换行：</p>
<ul>
<li>下列关键字后：<code>else, catch, finally</code></li>
<li>代码块’{‘前</li>
</ul>
<p>以下几种情况需要换行：</p>
<ul>
<li><p>代码块’{‘后和’}’前</p>
</li>
<li><p>变量赋值后</p>
<p>  &#x2F;&#x2F; not good<br>  var a &#x3D; {<br>  b: 1<br>  , c: 2<br>  };</p>
<p>  x &#x3D; y<br>  ? 1 : 2;<br>  &#x2F;&#x2F; good<br>  var a &#x3D; {<br>  b: 1,<br>  c: 2<br>  };</p>
<p>  x &#x3D; y ? 1 : 2;<br>  x &#x3D; y ?<br>  1 : 2;<br>  &#x2F;&#x2F; no need line break with ‘else’, ‘catch’, ‘finally’<br>  if (condition) {<br>  …<br>  } else {<br>  …<br>  }</p>
<p>  try {<br>  …<br>  } catch (e) {<br>  …<br>  } finally {<br>  …<br>  }</p>
<p>  &#x2F;&#x2F; not good<br>  function test()<br>  {<br>  …<br>  }</p>
<p>  &#x2F;&#x2F; good<br>  function test() {<br>  …<br>  }</p>
<p>  &#x2F;&#x2F; not good<br>  var a, foo &#x3D; 7, b,<br>  c, bar &#x3D; 8;<br>  &#x2F;&#x2F; good<br>  var a,<br>  foo &#x3D; 7,<br>  b, c, bar &#x3D; 8;</p>
</li>
</ul>
<h3 id="引号"><a href="#引号" class="headerlink" title="引号"></a>引号</h3><p>最外层统一使用单引号。</p>
<pre><code>// Good
function foo (data) &#123;
    return &#39;&lt;a href=&quot;#&quot; onclick=&quot;clickFn(\\&#39;&#39;+data.id+&#39;\\&#39;)&quot;&gt;&lt;/a&gt;&#39;
&#125;

// bad
function foo (data) &#123;
    return &quot;&lt;a href=&#39;#&#39; onclick=&#39;clickFn(\\&#39;&quot;+data.id+&quot;\\&#39;)&#39;&gt;&lt;/a&gt;&quot;
&#125;
</code></pre>
<h3 id="括号"><a href="#括号" class="headerlink" title="括号"></a>括号</h3><p>下列关键字后必须有大括号（即使代码块的内容只有一行）：<code>if, else, for, while, do, switch, try, catch, finally, with</code>。</p>
<pre><code>// not good
if (condition)
    doSomething();

// good
if (condition) &#123;
    doSomething();
&#125;
</code></pre>
<h3 id="建议使用-、-、！-obj-、三元运算符等"><a href="#建议使用-、-、！-obj-、三元运算符等" class="headerlink" title="建议使用 &amp;&amp; 、 || 、！!(obj)、三元运算符等"></a>建议使用 &amp;&amp; 、 || 、！!(obj)、三元运算符等</h3><pre><code>if(data &amp;&amp; data.length) //这是合理的判断，&amp;&amp;是依次判断，遇否中断， 建议
var name = data.name || &#39;&#39;; //依次都判断，遇true赋值，建议
var isName = names.split(&#39;,&#39;).lenght &gt; 1 ? &#39;名称正确&#39;： &#39;名称错误&#39;;
var isCanvas = !!(canvas.getContext(&#39;2d&#39;));
</code></pre>
<h3 id="请使用字面量值创建对象"><a href="#请使用字面量值创建对象" class="headerlink" title="请使用字面量值创建对象"></a>请使用字面量值创建对象</h3><pre><code>// Good
var obj = &#123;&#125;;
var users = [];
var str = &#39;abc&#39;;
var num = 1;
var isDefault = false;

// bad
var obj = new Object();
var users = new Array();
var str = new String(&#39;abc&#39;);
var num = new Number(1);
var isDefault = new Boolean(false);
</code></pre>
<h3 id="别使用javascript-关键字和保留字"><a href="#别使用javascript-关键字和保留字" class="headerlink" title="别使用javascript 关键字和保留字"></a>别使用javascript 关键字和保留字</h3><pre><code>// 比如 class 是保留字
var obj = &#123;
    name: &#39;userid&#39;,
    class: &#39;text-left&#39;
&#125;;
</code></pre>
<h3 id="只调用一次的函数就别单独声明了"><a href="#只调用一次的函数就别单独声明了" class="headerlink" title="只调用一次的函数就别单独声明了"></a>只调用一次的函数就别单独声明了</h3><pre><code>function getData () &#123;
    $.get(&#39;/abc&#39;, getDataCallback)
&#125;
function getDataCallback (data) &#123;
    console.log(data);
&#125;

function getData () &#123;
    $.get(&#39;/abc&#39;, function  (data) &#123;
        console.log(data);
    &#125;)
&#125;
</code></pre>
<p>关键字</p>
<pre><code>break
case
catch
continue
default
delete
do
else
finally
for
function
if
in
instanceof
new
return
switch
this
throw
try
typeof
var
void
while
with
</code></pre>
<p>保留字</p>
<pre><code>abstract
boolean
byte
char
class
const
debugger
double
enum
export
extends
final
float
goto
implements
import
int
interface
long
native
package
private
protected
public
short
static
super
synchronized
throws
transient
volatile
</code></pre>
<h3 id="不要使用-eval"><a href="#不要使用-eval" class="headerlink" title="不要使用 eval()"></a>不要使用 eval()</h3><ul>
<li>eval 太神秘了，以至于很多人用错。所以不推荐使用</li>
<li>说到性能问题，在旧的浏览器中如果你使用了eval，性能会下降10倍</li>
</ul>
<p>setInterval和setTimeout 传递字符串也是变相使用eval</p>
<pre><code>setInterval(&#39;foo()&#39;, 100)
</code></pre>
<h3 id="不用switch"><a href="#不用switch" class="headerlink" title="不用switch"></a>不用switch</h3><ul>
<li>容易漏掉break</li>
<li>没有 if else 清晰</li>
<li></li>
</ul>
<h3 id="不要用setAttribute-修改元素的布尔类型的属性"><a href="#不要用setAttribute-修改元素的布尔类型的属性" class="headerlink" title="不要用setAttribute 修改元素的布尔类型的属性"></a>不要用setAttribute 修改元素的布尔类型的属性</h3><p><strong>根据官方的建议：具有 true 和 false 两个属性的属性，这些checked、 selected、 readonly、 disabled、 autocomplete、autoplay、loop、muted、preload、autofocus、required、open 使用prop()，其他的使用 attr()</strong></p>
<pre><code>// bad
$option.attr(&#39;selected&#39;, &#39;selected&#39;); // jquery 的方法
option.setAttribute(&#39;selected&#39;, &#39;selected&#39;); 原生的方法

// good
$option.prop(&#39;selected&#39;, true); // jquery 的方法
option.selected = true; 原生的方法
</code></pre>
<h3 id="jQuery最佳实践"><a href="#jQuery最佳实践" class="headerlink" title="jQuery最佳实践"></a>jQuery最佳实践</h3><p><a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2011/08/jquery_best_practices.html">jQuery最佳实践</a></p>
<h1 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h1><p>推荐你们都读一遍或者多遍这本书，里面有javascript最好的实践。<br>公司有购买的在书架上</p>
<p><img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1521780545495&di=b26fccd445887ce52807fb3bfa3a43bd&imgtype=0&src=http://ec4.images-amazon.com/images/I/511yJOQpxvL.jpg" alt="Alt text"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://bzw875.github.io/2023/11/15/code-specifications/" data-id="clozsscj90008kps3ernx6x49" data-title="前端代码规范和最佳实践" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2023/11/15/common-algorithm/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">前一篇</strong>
      <div class="article-nav-title">
        
          常见算法
        
      </div>
    </a>
  
  
    <a href="/2023/11/15/cache-static-file/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">后一篇</strong>
      <div class="article-nav-title">静态文件缓存方案</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/11/">十一月 2023</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/11/25/int-to-binary/">js实现整数转二进制原码、补码</a>
          </li>
        
          <li>
            <a href="/2023/11/23/KMP-string-matching-algorithm/">(no title)</a>
          </li>
        
          <li>
            <a href="/2023/11/15/javascript-tutorial/">javascript简单教程</a>
          </li>
        
          <li>
            <a href="/2023/11/15/use-forever/">使用forever来持久运行node.js应用</a>
          </li>
        
          <li>
            <a href="/2023/11/15/websocket/">WebSocket协议介绍</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2024 小园香径<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>